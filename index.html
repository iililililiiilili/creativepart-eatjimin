<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>밥먹자! 안지민</title>
  <style>
    body {
      background-color: #f0f0f0;
      font-size: 16px;
      margin: 0;
      padding: 20px;
      color: #333;
    }
    canvas {
      display: block;
      margin: 0 auto;
      background-color: #fff;
      border: 1px solid #ccc;
      border-radius: 12px;
    }
    #subtitle, #score {
      text-align: center;
    }
    #subtitle {
      font-size: 20px;
    }
    #score {
      font-size: 40px;
      font-weight: bold;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <p id="subtitle">밥먹자! 안지민</p>
  <p id="score">현재점수: 0</p>
  <main><canvas id="canvas"></canvas></main>

  <script>
    const CANVAS_WIDTH = 800, CANVAS_HEIGHT = 500;
    const VILLAIN_WIDTH = 150 * 2, VILLAIN_HEIGHT = 200 * 1.5;

    const ASSETS = {
      images: {
        title: './background/title.png',
        startBtn: './background/gamestart.png'
      }
    };

    window.onload = () => {
      const canvas = document.getElementById('canvas');
      const ctx = canvas.getContext('2d');
      canvas.width = CANVAS_WIDTH;
      canvas.height = CANVAS_HEIGHT;

      const titleImage = new Image();
      const startButtonImage = new Image();

      let imagesLoaded = 0;
      const onLoadCallback = () => {
        imagesLoaded++;
        if (imagesLoaded === 2) {
          drawStartScreen();
        }
      };

      titleImage.onload = onLoadCallback;
      startButtonImage.onload = onLoadCallback;

      titleImage.src = ASSETS.images.title;
      startButtonImage.src = ASSETS.images.startBtn;

      function drawStartScreen() {
        ctx.drawImage(titleImage, 0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);
        ctx.drawImage(startButtonImage, (CANVAS_WIDTH - 200) / 2, (CANVAS_HEIGHT + 100) / 2, 200, 100);
      }

      // 클릭 이벤트로 시작 화면 클릭 여부 확인
      canvas.addEventListener('click', (e) => {
        const rect = canvas.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;

        const btnX = (CANVAS_WIDTH - 200) / 2;
        const btnY = (CANVAS_HEIGHT + 100) / 2;
        if (x >= btnX && x <= btnX + 200 && y >= btnY && y <= btnY + 100) {
          alert("게임이 시작됩니다! (여기서 이후 로직 실행)");
          // 여기서 애니메이션 함수나 게임 초기화 함수 호출
        }
      });
    };
  </script>
</body>
</html>
